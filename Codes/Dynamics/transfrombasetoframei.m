function M=transfrombasetoframei(d,l1,l2,l3)
L=l1+l2+l3

R=sym(zeros(3,3,7));
P=sym(zeros(3,7));

R(:,:,1)=eye(3);
P(:,1)=zeros(3,1);

R(:,:,2)=eye(3);
P(:,2)=zeros(3,1);

R(:,:,3)=[0 0 1;1 0 0;0 1 0];
P(:,3)=[0;0;d];

R(:,:,4)=R(:,:,2);
P(:,4)=[0;l1;d];

R(:,:,5)=[0 1 0;0 0 1;1 0 0];
P(:,5)=[0;l2+l1;d];

R(:,:,6)=R(:,:,2);
P(:,6)=[0;L;d];

R(:,:,7)=[0 1 0;1 0 0;0 0 1];
P(:,7)=P(:,5);

for i=1:7
   M(:,:,i)=[R(:,:,i) P(:,i);zeros(1,3) 1] 
end
end